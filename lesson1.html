<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>第 1 课：认识 R - Ziqichen R Simple Tutorial</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }
        header {
            text-align: center;
            background-color: #007acc;
            color: white;
            padding: 20px;
            margin-bottom: 20px;
        }
        nav {
            background-color: #333;
            padding: 10px;
            text-align: center;
        }
        nav a {
            color: white;
            margin: 0 15px;
            text-decoration: none;
        }
        section {
            background-color: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        h2 {
            color: #007acc;
        }
        h3 {
            color: #005f99;
        }
        ul {
            list-style-type: disc;
            padding-left: 20px;
        }
        code {
            background-color: #f1f1f1;
            padding: 2px 4px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
        }
        pre {
            background-color: #f1f1f1;
            padding: 10px;
            border-radius: 4px;
            overflow-x: auto;
        }
        img {
            max-width: 200px;
            margin: 10px;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 10px;
            background-color: #333;
            color: white;
        }
    </style>
</head>
<body>
    <header>
        <h1>第 1 课：认识 R</h1>
        <p>日期：2025 年 9 月 17 日 | 时长：20-30 分钟</p>
    </header>
    
    <nav>
        <a href="index.html">首页</a>
        <a href="lesson2.html">第 2 课</a>
        <a href="lesson3.html">第 3 课</a>
        <a href="lesson4.html">第 4 课</a>
        <a href="lesson5.html">第 5 课</a>
    </nav>
    
    <section>
        <h2>课程目标</h2>
        <p>本课程介绍 R 编程语言的基础知识，包括安装 R 和 RStudio、常用 R 包的安装、R 的简介以及 tibble 数据结构的初步理解。适合 R 语言初学者。</p>
    </section>
    
    <section>
        <h2>1. 下载 R 和 RStudio</h2>
        <p>要开始使用 R，你需要安装 R 语言和 RStudio（一个强大的 R 集成开发环境）。</p>
        <ul>
            <li><strong>R 语言</strong>：从官方 CRAN 网站下载最新版本，适用于 Windows、Mac 或 Linux。
                <ul>
                    <li><a href="https://www.r-project.org/">下载 R（R 官方网站）</a></li>
                </ul>
            </li>
            <li><strong>RStudio</strong>：推荐使用 RStudio Desktop（免费版），提供友好的界面和工具。
                <ul>
                    <li><a href="https://posit.co/download/rstudio-desktop/">下载 RStudio</a></li>
                </ul>
            </li>
        </ul>
        <p><strong>安装步骤</strong>：先安装 R，再安装 RStudio。按默认设置安装即可，安装后打开 RStudio 确认环境正常。</p>
    </section>
    
    <section>
        <h2>2. 下载和安装 R 包</h2>
        <p>我们将安装两个关键 R 包：tidyverse（数据处理和分析工具集）和 stats（R 内置统计分析包）。</p>
        <pre><code>install.packages("tidyverse")
install.packages("stats")  # 通常已内置，但确保安装
library(tidyverse)
library(stats)
</code></pre>
        <p><strong>说明</strong>：在 RStudio 的 Console 中运行以上代码。`tidyverse` 包含 dplyr、ggplot2 等常用包，`stats` 提供基础统计函数。</p>
    </section>
    
    <section>
        <h2>3. R 简介</h2>
        <h3>3.1 R 的历史</h3>
        <ul>
            <li>1992 年，新西兰奥克兰大学统计学教授 Ross Ihaka 和 Robert Gentleman，为了方便地给学生教授统计学课程，他们设计开发了 R 语言（他们名字的首字母都是 R）。
                <br>
                <img src="ross_ihaka.jpg" alt="Ross Ihaka">
                <img src="robert_gentleman.jpg" alt="Robert Gentleman">
            </li>
            <li>2000 年，R 1.0.0 发布</li>
            <li>2004 年，第一届国际 useR! 会议（随后每年举办一次）</li>
            <li>2005 年，ggplot2 宏包（2018.8 - 2019.8 下载量超过 1.3 亿次）</li>
            <li>2012 年，R 2.15.2 发布</li>
            <li>2013 年，R 3.0.2 发布，CRAN 上的宏包数量 5026 个</li>
            <li>2016 年，RStudio 公司推出 tidyverse 宏包（数据科学当前最流行的 R 宏包）</li>
            <li>2017 年，R 3.4.1 发布，CRAN 上的宏包数量 10875 个</li>
            <li>2019 年，R 3.6.1 发布，CRAN 上的宏包数量 15102 个</li>
            <li>2020 年，R 4.0.0 发布，CRAN 上的宏包数量 16054 个</li>
            <li>更多历史，请参考 <a href="https://www.r-project.org/">The history of R</a></li>
        </ul>
        
        <h3>3.2 R Project</h3>
        <p>R 的官网介绍: <a href="https://www.r-project.org/">https://www.r-project.org/</a></p>
        <p>简单来说，R 语言是用于统计分析、图形表示和报告的编程语言：</p>
        <ul>
            <li>R 是一个统计编程语言（statistical programming）</li>
            <li>R 可运行于多种平台之上，包括 Windows、UNIX 和 Mac OS X</li>
            <li>R 拥有顶尖水准的制图功能</li>
            <li>R 是免费的</li>
            <li>R 应用广泛，拥有丰富的库包</li>
            <li>活跃的社区：如 RStudio 社区</li>
        </ul>
        
        <h3>3.3 R 的劣势</h3>
        <p>假设一趟京广高铁总共要经过 15 个车站，那么相当于有 210 个区间组合。如果一名乘客购买了一张从北京到广州的车票，那就意味着要在 210 个区间上锁定这个座位，避免重复出票。放眼全国，无数的列车交织成一张巨大的数据网络，这需要一套非常先进的算法。所以 12306 需要用 Java 来开发，不可能用 R。类似地，C++ 使用舞蹈链（Dancing Links）算法解开一个数独，所需时间不到 1 毫秒，这显然也是 R 做不到的。</p>
        <p>假设有一个宏观经济学问题，需要求解一个抛物型偏微分方程，我们需要用到 Schmidt、Crank-Nicolson 或 Du Fort and Frankel 的方法。这时，Matlab 或 Julia 会是最合适的软件，因为它们内置了很多实用的函数，而且计算速度也很不错。</p>
        <p>假设你手头有几百万条招聘广告。你希望用一套简单的指令调用 GPT-4 或其他 AI 引擎的 API，批量地阅读这些广告，并给每条广告贴一个“职业类别”的标签。当前，最好用的软件是 Python，因为它有最成熟的接入 OpenAI 的方案。</p>
        <p>假设你拿到了一套调查数据，需要处理变量标签、数值标签，也需要画模型拟合图，那么 Stata 再适合不过了。</p>
        <p>假设有 200 多名学员报名了 2024 年云南大学的暑期班，他们的学校、专业、推荐人等信息都记录在一张表里。他们可能会写邮件说无法参加。有的同学也可能临时加入。有一些学生的特殊情况需要写备注或标记出来。这张表格可能需要在好几个人之间转手，调整不同的内容。鉴于这些需求，Excel 显然是最好用的软件，而 R 的代码就太显累赘了。</p>
        <p>综上所述，R 不擅长处理大数据、不擅长算法、不擅长科学计算、不擅长人工智能、不擅长处理变量标签、不擅长编辑繁琐的表格。在很多问题上，都有更强大的替代软件。</p>
        
        <h3>3.4 R 的优势</h3>
        <p>虽然 R 不擅长这些，但是 R 仍然可以完成上面大多数的任务。R 可以做矩阵运算，可以调用 C++，可以接入 OpenAI 的 API，可以分析调查数据，可以模仿 marginsplot，可以逐个单元格编辑表格。R 还可以爬取网页，可以机器学习，可以深度学习，可以分析五花八门的数据，可以输出多种多样的图表。</p>
        <p>R 语言封装了大量的实用函数。在我看来，在所有软件中，R 对统计相关函数的覆盖最为全面，在很多任务上优于 Stata 和 Python，当然更优于 Excel 和 C++。此外，相比 R 的强大功能，它的代码并不复杂。</p>
        <ul>
            <li>一体化，功能覆盖了统计学和数据科学的绝大多数领域</li>
            <li>相比“上位”软件，清晰、简洁、易读写</li>
            <li>相比“下位”软件，免费、灵活、功能全</li>
            <li>大量公开、免费、详实、易懂的学习资源</li>
        </ul>
    </section>
    
    <section>
        <h2>4. Tibble 数据简介</h2>
        <p>在浩如烟海的数据类型中，有一种数据类型特别为统计学家所关注。这一类数据有如下特点：</p>
        <ul>
            <li>每行是一个个案（case）、个体（individual）、观测点（observation）、分析单位（unit of analysis）。统计上讲，这些概念等价。</li>
            <li>每列是一个变量（variable）、特征（feature）。</li>
            <li>每格是一个取值（value），即某个个案的某条特征。</li>
        </ul>
        <p>这一类数据，有一种说法是整洁数据（tidy data），和其他五花八门的杂乱数据（messy data）相对。整洁数据的结构非常清晰，通过行和列，可以锁定每个格子数值的含义。</p>
        <p><strong>整洁数据的示例</strong>：</p>
        <pre><code># 示例：一个整洁数据集（tibble 格式）
library(tidyverse)
data <- tibble(
  Name = c("Alice", "Bob", "Charlie"),
  Age = c(25, 30, 35),
  Score = c(90, 85, 88)
)
print(data)
</code></pre>
        <p>运行以上代码，你会看到一个整洁的数据框，每行是一个人，每列是一个变量（姓名、年龄、分数）。我们将在后续课程中深入探讨如何操作此类数据。</p>
    </section>
    
    <footer>
        <p>&copy; 2025 Ziqichen. 所有权利保留。</p>
    </footer>
</body>
</html>
